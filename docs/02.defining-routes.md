# Defining Routes

We can create our routes with these macros:

- `get()` for GET routes,
- `post()` for POST routes,
- `put()` for PUT routes,
- `del()` for DELETE routes.
- `patch()` for PATCH routes,

If they donâ€™t have any middleware, they take 2 parameters: First one is the path and second one is the handler.

They must be defined after initialized the router in the entry point, which is the `int main(void)` function in the `main.c` file.

```c
#include "ecewo.h"
#include "our_handlers.h" // Handlers are in there
#include <stdio.h>

int main(void) {
  if (server_init() != 0) {
    fprintf(stderr, "Failed to initialize server\n");
    return 1;
  }

  // Define the routes
  del("/delete", sample_delete_handler);
  put("/update", sample_update_handler);
  patch("/edit", sample_edit_handler)
  post("/create", sample_create_handler);
  get("/", sample_get_handler);

  if (server_listen(3000) != 0) {
    fprintf(stderr, "Failed to start server\n");
    return 1;
  }

  server_run();
  return 0;
}
```

> [!TIP]
> 
> We also can define all of our routes in one function and call it once after initialized the router in main function:

```c
#include "ecewo.h"
#include "our_handlers.h" // Hanlers are in there
#include <stdio.h>

void register_all_routes(void) {
  // Define the routes
  del("/delete", sample_delete_handler);
  put("/update", sample_update_handler);
  patch("/edit", sample_edit_handler)
  post("/create", sample_create_handler);
  get("/", sample_get_handler);
}

int main(void) {
  if (server_init() != 0) {
    fprintf(stderr, "Failed to initialize server\n");
    return 1;
  }

  // Register all the routes
  register_all_routes();

  if (server_listen(3000) != 0) {
    fprintf(stderr, "Failed to start server\n");
    return 1;
  }

  server_run();
  return 0;
}
```

## Dynamic Parameters

Use `:param` syntax for dynamic segments:

```c
get("/users/:id", user_get_handler);
post("/users/:id", user_post_handler)
```

## Wildcard Routes

```c
#include "ecewo.h"
#include <stdio.h>

void catch_all(Req *req, Res *res) {
  send_text(res, 404, "Not Found");
}

int main(void) {
  if (server_init() != 0) {
    fprintf(stderr, "Failed to initialize server\n");
    return 1;
  }

  // Matches any route not already defined
  get("*", catch_all);

  if (server_listen(3000) != 0) {
    fprintf(stderr, "Failed to start server\n");
    return 1;
  }

  server_run();
  return 0;
}
```
